\section{Vorüberlegung}
\label{sec:BSGedanken}
Die Auswertungen der Tests haben gezeigt, das die Deskriptoren einen sehr hohen Speicherbedarf haben und sich daher nicht für die Persistierung in einer Datenbank eignen.
Auch die Laufzeit von feature-based Algorithmen ist deutlich höher als die Laufzeit des pHash Algorithmus, wenn alle Deskriptoren in der Datenbank verglichen werden sollen.

Außerdem würde der Umstieg vom momentan genutzten pHash-System auf ein feature-based-System bedeuten, das die bereits durch Spreadshirt gesammelten Hash-Werte nicht mehr brauchbar sind. 
Für das neue System müssten für alle 3,2 Millionen verbotene Designs die Deskriptoren berechnet und gespeichert werden, was ein großer, wenn auch einmaliger, Aufwand ist. 

Daher wird für den das neue Bilderkennungs-System ein Ansatz vorgesehen, der sich die niedrigen Speicherkosten, sowie den schnellen Vergleich von Bildern mit pHash und gleichzeitig auch die Robustheit der feature-based Algorithmen zunutze macht.

Die Idee ist, dass pHash genutzt wird, um aus der Datenbank eine Vorauswahl mit potenziellen Duplikaten zu treffen.
Danach wird ein feature-based Algorithmus genutzt, um den besten Match zu finden. Die Schlüsselpunkte und Deskriptoren des Suchbildes und der Kandidaten aus der Vorauswahl werden, dabei zur Laufzeit extrahiert.

Mit diesem Hyprid-Ansatz können die bereits bei Spreadshirt gesammelten Hash-Werte weiterhin genutzt werden. 
Daher muss das bisherige pHash-System nicht ersetzt werden und wird lediglich erweitert. 
Es bleiben auch die Persistierungskosten für die verbotenen Designs gleich, da weiterhin nur ein einzelner 64 Bit pHash-Wert pro Bild gespeichert werden muss.

Die Zuverlässigkeit des Systems wird aber dennoch weiterhin stark durch die Zuverlässigkeit des pHash-Algorithmus beschränkt. 
Der feature-based Algorithmus in diesem Entwurf nur Zugriff auf die Bilder, die in der Vorauswahl durch den pHash Algorithmus gelandet sind. Daher können nur die Duplikate erkannt werden, die auch durch pHash erkannt wurden. 

Die Tests haben gezeigt, das der pHash Algorithmus Schwierigkeiten hat Duplikate zu erkennen die gespiegelt oder rotiert sind. Besonders problematisch sind aber auch Duplikate, bei denen das Originalbild als Teil des Motivs auftauchen.
Daher wird es nötig sein das System für die Vorauswahl so anzupassen, sodass pHash mit den diesen Fällen umgehen kann. Das Ziel ist es für die Vorauswahl einen möglichst hohen Recall zu erreichen, damit möglichst alle potenziellen Duplikate durch den feature-based Algorithmus geprüft werden können.


